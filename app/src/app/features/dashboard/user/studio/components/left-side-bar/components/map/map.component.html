<div [class.hidden]="!isOpen" class="modal-overlay">
  <div class="modal-container">
    <div class="modal-header">
      <h3>Google Maps Street View</h3>
      <div class="header-actions">
        <button class="action-button" (click)="openInNewTab()">
          Open in new tab
        </button>
        <button class="close-button" (click)="closeModal()">×</button>
      </div>
    </div>
    <div class="map-info" *ngIf="mapUrl">
      <div class="info-item">
        <span class="info-label">Heading:</span>
        <span class="info-value">{{ heading }}°</span>
      </div>
      <div class="info-item">
        <span class="info-label">Position:</span>
        <span class="info-value">{{ coordinates }}</span>
      </div>
    </div>
    <div class="modal-content" *ngIf="mapUrl">
      <iframe
        #mapIframe
        [src]="mapUrl"
        width="100%"
        height="450"
        style="border: 0"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
      >
      </iframe>
    </div>
    <div class="loading" *ngIf="!mapUrl">Loading map...</div>
  </div>
</div>
