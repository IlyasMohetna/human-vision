<aside class="w-full h-full bg-[#282828] text-white p-4 overflow-y-auto">
  <h2 class="text-lg font-bold mb-4">Annotations</h2>

  <!-- High Priority Container -->
  <div class="mb-4">
    <div class="text-sm text-white font-bold bg-red-600 p-2 rounded-t">
      High Priority
    </div>
    <div
      cdkDropList
      id="high-priority"
      [cdkDropListData]="highPriorityAnnotations"
      [cdkDropListConnectedTo]="[
        'medium-priority',
        'low-priority',
        'unassigned'
      ]"
      class="bg-red-500 bg-opacity-20 p-2 min-h-[100px] max-h-[150px] overflow-y-auto rounded-b"
      (cdkDropListDropped)="onAnnotationDrop($event)"
    >
      <div
        *ngFor="let item of highPriorityAnnotations"
        class="bg-red-500 text-white p-2 mb-1 rounded cursor-move flex items-center"
        cdkDrag
        (mouseenter)="setHoveredPolygon(item.id)"
        (mouseleave)="clearHoveredPolygon()"
      >
        <input
          type="checkbox"
          [checked]="activePolygons[item.id]"
          (change)="togglePolygon(item.id)"
          class="mr-2"
        />
        <span>{{ item.label || "Unnamed" }}</span>
      </div>
    </div>
  </div>

  <!-- Medium Priority Container -->
  <div class="mb-4">
    <div class="text-sm text-black font-bold bg-yellow-400 p-2 rounded-t">
      Medium Priority
    </div>
    <div
      cdkDropList
      id="medium-priority"
      [cdkDropListData]="mediumPriorityAnnotations"
      [cdkDropListConnectedTo]="['high-priority', 'low-priority', 'unassigned']"
      class="bg-yellow-400 bg-opacity-20 p-2 min-h-[100px] max-h-[150px] overflow-y-auto rounded-b"
      (cdkDropListDropped)="onAnnotationDrop($event)"
    >
      <div
        *ngFor="let item of mediumPriorityAnnotations"
        class="bg-yellow-400 text-black p-2 mb-1 rounded cursor-move flex items-center"
        cdkDrag
        (mouseenter)="setHoveredPolygon(item.id)"
        (mouseleave)="clearHoveredPolygon()"
      >
        <input
          type="checkbox"
          [checked]="activePolygons[item.id]"
          (change)="togglePolygon(item.id)"
          class="mr-2"
        />
        <span>{{ item.label || "Unnamed" }}</span>
      </div>
    </div>
  </div>

  <!-- Low Priority Container -->
  <div class="mb-4">
    <div class="text-sm text-white font-bold bg-green-600 p-2 rounded-t">
      Low Priority
    </div>
    <div
      cdkDropList
      id="low-priority"
      [cdkDropListData]="lowPriorityAnnotations"
      [cdkDropListConnectedTo]="[
        'high-priority',
        'medium-priority',
        'unassigned'
      ]"
      class="bg-green-500 bg-opacity-20 p-2 min-h-[100px] max-h-[150px] overflow-y-auto rounded-b"
      (cdkDropListDropped)="onAnnotationDrop($event)"
    >
      <div
        *ngFor="let item of lowPriorityAnnotations"
        class="bg-green-500 text-white p-2 mb-1 rounded cursor-move flex items-center"
        cdkDrag
        (mouseenter)="setHoveredPolygon(item.id)"
        (mouseleave)="clearHoveredPolygon()"
      >
        <input
          type="checkbox"
          [checked]="activePolygons[item.id]"
          (change)="togglePolygon(item.id)"
          class="mr-2"
        />
        <span>{{ item.label || "Unnamed" }}</span>
      </div>
    </div>
  </div>

  <!-- Unassigned Annotations Container -->
  <div>
    <div class="text-sm text-white font-bold bg-blue-600 p-2 rounded-t">
      Unassigned
    </div>
    <div
      cdkDropList
      id="unassigned"
      [cdkDropListData]="unassignedAnnotations"
      [cdkDropListConnectedTo]="[
        'high-priority',
        'medium-priority',
        'low-priority'
      ]"
      class="bg-blue-500 bg-opacity-20 p-2 min-h-[100px] max-h-[150px] overflow-y-auto rounded-b"
      (cdkDropListDropped)="onAnnotationDrop($event)"
    >
      <div
        *ngFor="let item of unassignedAnnotations"
        class="bg-blue-500 text-white p-2 mb-1 rounded cursor-move flex items-center"
        cdkDrag
        (mouseenter)="setHoveredPolygon(item.id)"
        (mouseleave)="clearHoveredPolygon()"
      >
        <input
          type="checkbox"
          [checked]="activePolygons[item.id]"
          (change)="togglePolygon(item.id)"
          class="mr-2"
        />
        <span>{{ item.label || "Unnamed" }}</span>
      </div>
    </div>
  </div>
</aside>
